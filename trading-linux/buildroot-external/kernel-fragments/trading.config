# Kernel Configuration Fragment for FPGA Trading System
# Intel i9-14900KF + RTX 5090 + FPGA (XDMA)

# === CPU ===
CONFIG_SMP=y
CONFIG_NR_CPUS=32
CONFIG_X86_INTEL_PSTATE=y
CONFIG_CPU_FREQ_GOV_PERFORMANCE=y
CONFIG_PREEMPT=y
CONFIG_HZ_1000=y

# === Memory ===
CONFIG_TRANSPARENT_HUGEPAGE=y
CONFIG_HUGETLBFS=y
CONFIG_MEMORY_ISOLATION=y

# === PCIe / DMA ===
CONFIG_PCI=y
CONFIG_PCIEPORTBUS=y
CONFIG_PCI_MSI=y
CONFIG_DMA_ENGINE=y
CONFIG_DMADEVICES=y
CONFIG_INTEL_IOATDMA=n

# === NVIDIA GPU ===
# Built as external module (NVIDIA proprietary driver)
CONFIG_DRM=y
CONFIG_DRM_FBDEV_EMULATION=n

# === Networking ===
CONFIG_NET=y
CONFIG_INET=y
CONFIG_IPV6=y
CONFIG_NETFILTER=n
CONFIG_BRIDGE=n
CONFIG_VLAN_8021Q=n

# Intel I226-V driver
CONFIG_IGB=n
CONFIG_IGC=y

# === Storage ===
CONFIG_NVME_CORE=y
CONFIG_BLK_DEV_NVME=y
CONFIG_ATA=y
CONFIG_SATA_AHCI=y

# === Filesystems ===
CONFIG_EXT4_FS=y
CONFIG_SQUASHFS=y
CONFIG_TMPFS=y
CONFIG_DEVTMPFS=y
CONFIG_PROC_FS=y
CONFIG_SYSFS=y

# === Console Graphics (for high-res terminal) ===
CONFIG_FB=y
CONFIG_FB_VESA=y
CONFIG_FB_EFI=y
CONFIG_FB_SIMPLE=y
CONFIG_FRAMEBUFFER_CONSOLE=y
CONFIG_FRAMEBUFFER_CONSOLE_DETECT_PRIMARY=y
CONFIG_VT=y
CONFIG_VT_CONSOLE=y
CONFIG_VGA_CONSOLE=y

# === Disable Unused Features ===
# Wireless/Bluetooth
CONFIG_WIRELESS=n
CONFIG_CFG80211=n
CONFIG_MAC80211=n
CONFIG_BT=n
CONFIG_RFKILL=n

# Sound
CONFIG_SOUND=n

# Other Graphics (not needed with NVIDIA)
CONFIG_DRM_I915=n
CONFIG_DRM_AMDGPU=n
CONFIG_DRM_RADEON=n
CONFIG_DRM_NOUVEAU=n

# USB (minimal)
CONFIG_USB_STORAGE=n
CONFIG_USB_PRINTER=n
CONFIG_USB_SERIAL=y
CONFIG_USB_HID=y

# Input (minimal)
CONFIG_INPUT_TOUCHSCREEN=n
CONFIG_INPUT_TABLET=n
CONFIG_INPUT_JOYSTICK=n
CONFIG_INPUT_MISC=n

# Media/Camera
CONFIG_MEDIA_SUPPORT=n

# Virtualization
CONFIG_KVM=n
CONFIG_VHOST=n
CONFIG_VIRTIO=n

# Unused filesystems
CONFIG_NTFS3_FS=n
CONFIG_BTRFS_FS=n
CONFIG_XFS_FS=n
CONFIG_CIFS=n
CONFIG_NFS_FS=n

